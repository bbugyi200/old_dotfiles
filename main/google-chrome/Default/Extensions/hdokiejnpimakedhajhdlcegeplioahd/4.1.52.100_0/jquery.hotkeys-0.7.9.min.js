!function(t){t.fn.__bind__=t.fn.bind,t.fn.__unbind__=t.fn.unbind,t.fn.__find__=t.fn.find;var r={version:"0.7.9",override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",191:"/"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(t,r,e){var i={};return i[t]={},i[t][r]={cb:e,disableInInput:!1},i}};r.specialKeys=t.extend(r.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/"}),t.fn.find=function(r){return this.query=r,t.fn.__find__.apply(this,arguments)},t.fn.unbind=function(e,i,n){if(t.isFunction(i)&&(n=i,i=null),i&&"string"==typeof i)for(var s=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString(),a=e.split(" "),f=0;f<a.length;f++)delete r.triggersMap[s][a[f]][i];return this.__unbind__(e,n)},t.fn.bind=function(e,i,n){var s=e.match(r.override);if(t.isFunction(i)||!s)return this.__bind__(e,i,n);var a=null,f=t.trim(e.replace(r.override,""));if(f&&(a=this.__bind__(f,i,n)),"string"==typeof i&&(i={combi:i}),i.combi)for(var o=0;o<s.length;o++){var p=s[o],d=i.combi.toLowerCase(),h=r.newTrigger(p,d,n),u=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();h[p][d].disableInInput=i.disableInInput,r.triggersMap[u]?r.triggersMap[u][p]||(r.triggersMap[u][p]=h[p]):r.triggersMap[u]=h;var g=r.triggersMap[u][p][d];g?g.constructor!==Array?r.triggersMap[u][p][d]=[g]:r.triggersMap[u][p][d][g.length]=h[p][d]:r.triggersMap[u][p][d]=[h[p][d]],this.each(function(){var r=t(this);r.attr("hkId")&&r.attr("hkId")!==u&&(u=r.attr("hkId")+";"+u),r.attr("hkId",u)}),a=this.__bind__(s.join(" "),i,r.handler)}return a},r.findElement=function(r){if(!t(r).attr("hkId")&&(t.browser.opera||t.browser.safari))for(;!t(r).attr("hkId")&&r.parentNode;)r=r.parentNode;return r},r.handler=function(e){var i=r.findElement(e.currentTarget),n=t(i),s=n.attr("hkId");if(s){s=s.split(";");for(var a=e.which,f=e.type,o=r.specialKeys[a],p=!o&&String.fromCharCode(a).toLowerCase(),d=e.shiftKey,h=e.ctrlKey,u=e.altKey||e.originalEvent.altKey,g=null,l=0;l<s.length;l++)if(r.triggersMap[s[l]][f]){g=r.triggersMap[s[l]][f];break}if(g){var c;if(d||h||u){var _="";u&&(_+="alt+"),h&&(_+="ctrl+"),d&&(_+="shift+"),c=g[_+o],c||p&&(c=g[_+p]||g[_+r.shiftNums[p]]||"shift+"===_&&g[r.shiftNums[p]])}else c=g[o]||p&&g[p];if(c){for(var b=!1,l=0;l<c.length;l++){if(c[l].disableInInput){var v=t(e.target);if(n.is("input")||n.is("textarea")||n.is("select")||v.is("input")||v.is("textarea")||v.is("select"))return!0}b=b||c[l].cb.apply(this,[e])}return b}}}},window.hotkeys=r}(jQuery);