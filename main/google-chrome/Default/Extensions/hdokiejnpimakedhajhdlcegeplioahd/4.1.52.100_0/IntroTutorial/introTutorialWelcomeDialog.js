var IntroTutorialWelcomeDialog=function(o){Dialog.call(this,o,{closeButtonEnabled:!1,maximizeButtonEnabled:!1,dynamicHeight:!0,hideHeader:!0,hideButtons:!0,confirmOnClose:!1})};IntroTutorialWelcomeDialog.prototype=Object.create(Dialog.prototype),IntroTutorialWelcomeDialog.prototype.constructor=IntroTutorialWelcomeDialog,function(){IntroTutorialWelcomeDialog.prototype.initialize=function(o){Dialog.prototype.initialize.apply(this,arguments),function(t){function e(o){o.preventDefault(),bg.sendLpImprove("onboardingtour::welcomechoice",{action:"addsite",version:"sso"}),t.close(!0),dialogs.introTutorialSelectSite.open()}var n=o.find("#addSiteLink"),i=o.find("#importLink"),r=o.find("#noThanks, #btnClose"),a={addEmailSites:{btnText:Strings.translateString("Add sites from email"),handlerFn:function(o){o.preventDefault(),oneMinuteSignup.show(oneMinuteSignup.modes.normal),bg.sendLpImprove("onboardingtour::welcomechoice",{action:"oneMinuteSignup",version:"sso"}),LPProxy.setPreferences("ShowIntroTutorial",!1),bg&&bg.g_introTutorialStatus&&bg.g_introTutorialStatus.setStatus(!1),t.close(!0)}},importerHandler:{btnText:Strings.translateString("Download Importer"),handlerFn:function(o){o.preventDefault(),LPPlatform.showDownloader()?dialogs.introTutorialHelp.open({alignBottom:!0,addHide:!0,textChoice:"downloadImporter",arrow:{orientation:"bottom",position:"left"},postSetup:function(){window.location=LPProxy.getBaseURL()+"installer"}}):window.location=LPProxy.getBaseURL()+"installer",bg.sendLpImprove("onboardingtour::welcomechoice",{action:"download",version:"sso"}),t.close(!0)}}},l=LPPlatform.getImportHandler();l&&a.hasOwnProperty(l)&&i.text(a[l].btnText),n.bind("click",e),i.bind("click",function(o){var t=LPPlatform.getImportHandler();t&&a.hasOwnProperty(t)&&a[t].handlerFn(o)}),r.bind("click",function(o){o.preventDefault(),bg.sendLpImprove("onboardingtour::welcomechoice",{action:"nothanks",version:"sso"}),t.close(!0),LPVault.openTour()})}(this),"addEmailSites"==LPPlatform.getImportHandler()?bg.sendLpImprove("omsseen"):bg.sendLpImprove("onboardingtour::seen",{version:"sso"})},IntroTutorialWelcomeDialog.prototype.close=function(o){o?Dialog.prototype.close.call(this,o):function(o){dialogs.confirmation.open({title:Strings.translateString("Close"),text:Strings.translateString("Are you sure You'd like to exit the tutorial?"),handler:function(){bg.sendLpImprove("onboardingtour::welcomechoice",{action:"nothanks",version:"sso"}),o.close(!0)}})}(this)}}();